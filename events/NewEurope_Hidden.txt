##This file will is used for some hidden events. 
add_namespace = ne_hidden

##Switch to better India color when free
country_event = {
	id = ne_hidden.0

	hidden = yes
	fire_only_once = yes

	trigger = {
	
		RAJ = { is_subject = no }
		has_global_flag = names_chosen
		
	}

	immediate = {
		RAJ = { set_cosmetic_tag = NE_INDIA }
	}

    option = {
		#
    }

	
}



##STALIN IS DED
country_event = {
	id = ne_hidden.1

	hidden = yes
	fire_only_once = yes

	trigger = {
	
		SOV = {
			has_idea = stalins_death
		}
		
	}

	mean_time_to_happen = { days = 105 }

	immediate = {
		SOV = { remove_ideas = stalins_death }
	}

    option = {
		#
    }
	
}



##KOREA flag event (HIDDEN)
country_event = {
	id = ne_hidden.2
	
	hidden = yes	
	is_triggered_only = yes
	
	option = {		
		set_global_flag = ne_korean_war		
	}
}



##########################################
##MERGE EVENTS (HIDDEN)###################
##########################################


##Best Korea is more democratic than usual
country_event = {
	id = ne_hidden.3
	
	fire_only_once = yes	
	hidden = yes
	
	trigger = {
	
		tag = KOR
		
		DPR = {
			exists = yes
			NOT = { has_war_with = KOR }
			has_government = democratic
		}
		
		KOR = {
			exists = yes
			NOT = { has_war_with = DPR }
			has_war = no
			has_government = democratic
		}
		
	}
	
	option = {		
		KOR = {annex_country = { target = DPR } }		
	}
}


##KOR has found the true path to communism
country_event = {
	id = ne_hidden.4
	
	hidden = yes	
	fire_only_once = yes
	
	trigger = {
	
		tag = DPR
		
		DPR = {
			exists = yes
			NOT = { has_war_with = KOR }
			has_government = communism
		}
		
		KOR = {
			exists = yes
			NOT = { has_war_with = DPR }
			has_war = no
			has_government = communism
		}

	}
	
	option = {	
		DPR = {annex_country = { target = KOR } }		
	}
}


##NEWS EVENT: Battle of Berlin (WW3) two outcomes
country_event = {
	id = ne_hidden.5
	
	hidden = yes	
	fire_only_once = yes
	
	trigger = {
	
		tag = DDR
		
		country_exists = DDR

		SOV = {
			exists = yes
			OR = {
				has_war_with = USA
				has_war_with = ENG
				has_war_with = FRA
				has_war_with = WGR
			}
			has_government = communism
		}
		
		749 = {
			OR = {
				is_owned_by = WGR
				any_country = {
					owns_state = PREV
					is_in_faction_with = ENG		
				}
			}
			any_country = {
				controls_state = PREV
				is_in_faction_with = SOV
			
			}
		}

	}
	
	option = {		##first option is NATO heavy resistance, second option is little resistance
		random_list = { 40 = { news_event = { id = ne_news.22 }  } 60 = { news_event = { id = ne_news.23 }  } } 	
	}
}

##Vichy France gets new color and name when flag was activated
country_event = {
	id = ne_hidden.6

	hidden = yes
	fire_only_once = yes

	trigger = {
	
		FRA = {
			exists = yes
			has_capitulated = yes
			has_war_with = GER
			has_civil_war = yes
		}

		has_global_flag = names_chosen
		
		
	}

	
	immediate = {	##Add cosmetic tag to Vichy
	
		every_country = {
			limit = {
				original_tag = FRA
				NOT = { TAG = FRA }
			}
			
			set_cosmetic_tag = NE_VICHY
		}
	}
	
    option = {	
		#	
    }

	
}

##Same happens to Franco's Spain + NE_neutrality EDIT
country_event = {
	id = ne_hidden.7

	hidden = yes
	fire_only_once = yes

	trigger = {
	
		SPR = {
			exists = yes
			has_government = communism
			has_civil_war = yes
		}

		has_global_flag = names_chosen				
	}

	
	immediate = {	##Add cosmetic tag to Franco
	
		every_country = {
			limit = {
				original_tag = SPR
				NOT = { TAG = SPR }
			}
			
			set_cosmetic_tag = NE_SPS
			
			if = { limit = { has_global_flag = Neutrality_chosen } add_ideas = NE_neutrality }
			
		}
	}
	
    option = {	
		#	
    }

	
}


##Play track when Sino-Japanese War starts
country_event = {
	id = ne_hidden.8

	hidden = yes
	fire_only_once = yes

	trigger = {	
		JAP = { has_war_with = CHI }
		JAP = { has_war_with = SHX }	
	}

	immediate = {
		CHI = { sound_effect = sino_japanese_war }
		PRC = { sound_effect = sino_japanese_war }
	}

    option = {
		#
    }

	
}